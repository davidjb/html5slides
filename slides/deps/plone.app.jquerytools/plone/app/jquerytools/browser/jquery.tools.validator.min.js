/*
 
 jQuery Tools Validator v1.2.6 - HTML5 is here. Now use it.

 NO COPYRIGHTS OR LICENSES. DO WHAT YOU LIKE.

 http://flowplayer.org/tools/form/validator/

 Since: Mar 2010
 Date: 2011-10-26 11:02 
*/
(function(f){function t(a,b,c){var k=a.offset().top,g=a.offset().left,l=c.position.split(/,?\s+/),p=l[0];l=l[1];k-=b.outerHeight()-c.offset[0];g+=a.outerWidth()+c.offset[1];if(/iPad/i.test(navigator.userAgent))k-=f(window).scrollTop();c=b.outerHeight()+a.outerHeight();if(p=="center")k+=c/2;if(p=="bottom")k+=c;a=a.outerWidth();if(l=="center")g-=(a+b.outerWidth())/2;if(l=="left")g-=a;return{top:k,left:g}}function y(a){function b(){return this.getAttribute("type")==a}b.key="[type="+a+"]";return b}function u(a,
b,c){function k(e,d,i){if(!(!c.grouped&&e.length)){var j;if(i===false||f.isArray(i)){j=h.messages[d.key||d]||h.messages["*"];j=j[c.lang]||h.messages["*"].en;(d=j.match(/\$\d/g))&&f.isArray(i)&&f.each(d,function(m){j=j.replace(this,i[m])})}else j=i[c.lang]||i;e.push(j)}}var g=this,l=b.add(g);a=a.not(":button, :image, :reset, :submit");b.attr("novalidate","novalidate");f.extend(g,{getConf:function(){return c},getForm:function(){return b},getInputs:function(){return a},reflow:function(){a.each(function(){var e=
f(this),d=e.data("msg.el");if(d){e=t(e,d,c);d.css({top:e.top,left:e.left})}});return g},invalidate:function(e,d){if(!d){var i=[];f.each(e,function(j,m){j=a.filter("[name='"+j+"']");if(j.length){j.trigger("OI",[m]);i.push({input:j,messages:[m]})}});e=i;d=f.Event()}d.type="onFail";l.trigger(d,[e]);d.isDefaultPrevented()||q[c.effect][0].call(g,e,d);return g},reset:function(e){e=e||a;e.removeClass(c.errorClass).each(function(){var d=f(this).data("msg.el");if(d){d.remove();f(this).data("msg.el",null)}}).unbind(c.errorInputEvent||
"");return g},destroy:function(){b.unbind(c.formEvent+".V").unbind("reset.V");a.unbind(c.inputEvent+".V").unbind("change.V");return g.reset()},checkValidity:function(e,d){e=e||a;e=e.not(":disabled");if(!e.length)return true;d=d||f.Event();d.type="onBeforeValidate";l.trigger(d,[e]);if(d.isDefaultPrevented())return d.result;var i=[];e.not(":radio:not(:checked)").each(function(){var m=[],n=f(this).data("messages",m),v=r&&n.is(":date")?"onHide.v":c.errorInputEvent+".v";n.unbind(v);f.each(w,function(){var o=
this,s=o[0];if(n.filter(s).length){o=o[1].call(g,n,n.val());if(o!==true){d.type="onBeforeFail";l.trigger(d,[n,s]);if(d.isDefaultPrevented())return false;var x=n.attr(c.messageAttr);if(x){m=[x];return false}else k(m,s,o)}}});if(m.length){i.push({input:n,messages:m});n.trigger("OI",[m]);c.errorInputEvent&&n.bind(v,function(o){g.checkValidity(n,o)})}if(c.singleError&&i.length)return false});var j=q[c.effect];if(!j)throw'Validator: cannot find effect "'+c.effect+'"';if(i.length){g.invalidate(i,d);return false}else{j[1].call(g,
e,d);d.type="onSuccess";l.trigger(d,[e]);e.unbind(c.errorInputEvent+".v")}return true}});f.each("onBeforeValidate,onBeforeFail,onFail,onSuccess".split(","),function(e,d){f.isFunction(c[d])&&f(g).bind(d,c[d]);g[d]=function(i){i&&f(g).bind(d,i);return g}});c.formEvent&&b.bind(c.formEvent+".V",function(e){if(!g.checkValidity(null,e))return e.preventDefault();e.target=b;e.type=c.formEvent});b.bind("reset.V",function(){g.reset()});a[0]&&a[0].validity&&a.each(function(){this.oninvalid=function(){return false}});
if(b[0])b[0].checkValidity=g.checkValidity;c.inputEvent&&a.bind(c.inputEvent+".V",function(e){g.checkValidity(f(this),e)});a.filter(":checkbox, select").filter("[required]").bind("change.V",function(e){var d=f(this);if(this.checked||d.is("select")&&f(this).val())q[c.effect][1].call(g,d,e)});var p=a.filter(":radio").change(function(e){g.checkValidity(p,e)});f(window).resize(function(){g.reflow()})}f.tools=f.tools||{version:"v1.2.6"};var z=/\[type=([a-z]+)\]/,A=/^-?[0-9]*(\.[0-9]+)?$/,r=f.tools.dateinput,
B=/^([a-z0-9_\.\-\+]+)@([\da-z\.\-]+)\.([a-z\.]{2,6})$/i,C=/^(https?:\/\/)?[\da-z\.\-]+\.[a-z\.]{2,6}[#&+_\?\/\w \.\-=]*$/i,h;h=f.tools.validator={conf:{grouped:false,effect:"default",errorClass:"invalid",inputEvent:null,errorInputEvent:"keyup",formEvent:"submit",lang:"en",message:"<div/>",messageAttr:"data-message",messageClass:"error",offset:[0,0],position:"center right",singleError:false,speed:"normal"},messages:{"*":{en:"Please correct this value"}},localize:function(a,b){f.each(b,function(c,
k){h.messages[c]=h.messages[c]||{};h.messages[c][a]=k})},localizeFn:function(a,b){h.messages[a]=h.messages[a]||{};f.extend(h.messages[a],b)},fn:function(a,b,c){if(f.isFunction(b))c=b;else{if(typeof b=="string")b={en:b};this.messages[a.key||a]=b}if(b=z.exec(a))a=y(b[1]);w.push([a,c])},addEffect:function(a,b,c){q[a]=[b,c]}};var w=[],q={"default":[function(a){var b=this.getConf();f.each(a,function(c,k){c=k.input;c.addClass(b.errorClass);var g=c.data("msg.el");if(!g){g=f(b.message).addClass(b.messageClass).appendTo(document.body);
c.data("msg.el",g)}g.css({visibility:"hidden"}).find("p").remove();f.each(k.messages,function(l,p){f("<p/>").html(p).appendTo(g)});g.outerWidth()==g.parent().width()&&g.add(g.find("p")).css({display:"inline"});k=t(c,g,b);g.css({visibility:"visible",position:"absolute",top:k.top,left:k.left}).fadeIn(b.speed)})},function(a){var b=this.getConf();a.removeClass(b.errorClass).each(function(){var c=f(this).data("msg.el");c&&c.css({visibility:"hidden"})})}]};f.each("email,url,number".split(","),function(a,
b){f.expr[":"][b]=function(c){return c.getAttribute("type")===b}});f.fn.oninvalid=function(a){return this[a?"bind":"trigger"]("OI",a)};h.fn(":email","Please enter a valid email address",function(a,b){return!b||B.test(b)});h.fn(":url","Please enter a valid URL",function(a,b){return!b||C.test(b)});h.fn(":number","Please enter a numeric value.",function(a,b){return A.test(b)});h.fn("[max]","Please enter a value no larger than $1",function(a,b){if(b===""||r&&a.is(":date"))return true;a=a.attr("max");
return parseFloat(b)<=parseFloat(a)?true:[a]});h.fn("[min]","Please enter a value of at least $1",function(a,b){if(b===""||r&&a.is(":date"))return true;a=a.attr("min");return parseFloat(b)>=parseFloat(a)?true:[a]});h.fn("[required]","Please complete this mandatory field.",function(a,b){if(a.is(":checkbox"))return a.is(":checked");return!!b});h.fn("[pattern]",function(a){var b=new RegExp("^"+a.attr("pattern")+"$");return b.test(a.val())});f.fn.validator=function(a){var b=this.data("validator");if(b){b.destroy();
this.removeData("validator")}a=f.extend(true,{},h.conf,a);if(this.is("form"))return this.each(function(){var c=f(this);b=new u(c.find(":input"),c,a);c.data("validator",b)});else{b=new u(this,this.eq(0).closest("form"),a);return this.data("validator",b)}}})(jQuery);

